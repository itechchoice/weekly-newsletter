---
slug: weekly-002
title: "Die Yi æŠ€æœ¯å‘¨åˆŠ #002"
authors: [editor]
tags: [github, ai, best-practices]
---

æ¬¢è¿é˜…è¯» **Die Yi æŠ€æœ¯å‘¨åˆŠ** ç¬¬ 2 æœŸï¼ğŸ‰

æœ¬æœŸæˆ‘ä»¬èŠèŠå¦‚ä½•è®© Vibe Coding å˜å¾—æ›´å¯æ§â€”â€”ä»å‰ç«¯ UI ç”Ÿæˆçš„"æŠ¤æ "åˆ°å¼€å‘æµç¨‹çš„"è§„èŒƒé©±åŠ¨"ï¼Œè®© AI ç¼–ç¨‹ä¸å†æ˜¯ç›²çŒœï¼

è®©æˆ‘ä»¬å¼€å§‹å§ï¼

**æœ¬æœŸç›®å½•ï¼š**

- ğŸ¤– å‰ç«¯ Vibe Coding çš„é“¶å¼¹? json-render æ˜¯è¿™é¢—é“¶å¼¹å—?
- ğŸ¯ SpecKit è§„èŒƒé©±åŠ¨å¼€å‘: è¦ä¸è¯•è¯• OpenSpec ?
- ğŸ“® ä¸‹æœŸé¢„å‘Š

<!-- truncate -->

---

## ğŸ¤– å‰ç«¯ Vibe Coding çš„é“¶å¼¹? json-render æ˜¯è¿™é¢—é“¶å¼¹å—?

> **è®© AI åªèƒ½ç”¨ä½ å®šä¹‰çš„ç»„ä»¶ï¼å‰ç«¯ç”Ÿæˆå¼ UI çš„å®‰å…¨ä¹‹é“**

### ç—›ç‚¹

æƒ³è¿‡è®©ç”¨æˆ·é€šè¿‡ prompt ç”Ÿæˆ UI å—ï¼Ÿ

- "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªé”€å”®æ•°æ® Dashboard"
- "åˆ›å»ºä¸€ä¸ªå®¢æˆ·ä¿¡æ¯ç¼–è¾‘è¡¨å•"

å¬èµ·æ¥å¾ˆé…·ï¼Œä½†é—®é¢˜æ¥äº†ï¼š

- AI ç”Ÿæˆçš„å‰ç«¯ä»£ç è´¨é‡å‚å·®ä¸é½ï¼Œä»Šå¤©èƒ½ç”¨æ˜å¤©æŠ¥é”™
- ç›´æ¥æ¸²æŸ“ AI è¾“å‡ºçš„ HTML/JSXï¼Ÿå®‰å…¨é£é™©å¤ªå¤§äº†ï¼
- ç”Ÿæˆçš„ UI é£æ ¼å’Œä½ çš„è®¾è®¡ç³»ç»Ÿå®Œå…¨ä¸æ­

### è§£å†³æ–¹æ¡ˆ

[**json-render**](https://github.com/vercel-labs/json-render) æ˜¯ Vercel Labs æ¨å‡ºçš„ä¸€ä¸ªæ–°æ€è·¯ï¼š**AI â†’ JSON â†’ UI**

æ ¸å¿ƒç†å¿µå¾ˆç®€å•ï¼š**ç»™ AI ä¸€ä¸ªå—é™çš„è¯æ±‡è¡¨**ã€‚AI åªèƒ½ç”Ÿæˆä½ é¢„å®šä¹‰ç»„ä»¶çš„ JSON æè¿°ï¼Œç„¶åç”±ä½ çš„ä»£ç æ¥æ¸²æŸ“ã€‚è¿™æ ·è¾“å‡ºæ°¸è¿œæ˜¯å¯é¢„æµ‹çš„ï¼

```mermaid
flowchart LR
    A["ğŸ—£ï¸ ç”¨æˆ· Prompt"] --> B["ğŸ¤– AI ç”Ÿæˆ JSON"]
    B --> C["ğŸ“¦ Schema éªŒè¯"]
    C --> D["ğŸ¨ ç»„ä»¶æ¸²æŸ“"]
    D --> E["âœ… å®‰å…¨çš„ UI"]

    F["ğŸ“‹ Catalog"] -.->|çº¦æŸ| B
    G["ğŸ”§ Registry"] -.->|æ˜ å°„| D
```

_ğŸ¤« è¿™å°±åƒç»™ AI ä¸€æœ¬"èœå•"ï¼Œå®ƒåªèƒ½ç‚¹èœå•ä¸Šæœ‰çš„èœï¼Œä¸èƒ½è‡ªå·±ä¹±å‘æ˜ï¼_

### æ ¸å¿ƒç‰¹æ€§

| åŠŸèƒ½            | è¯´æ˜                                 |
| --------------- | ------------------------------------ |
| ğŸ›¡ï¸ **æŠ¤æ **     | AI åªèƒ½ä½¿ç”¨ Catalog ä¸­å®šä¹‰çš„ç»„ä»¶     |
| ğŸ¯ **å¯é¢„æµ‹**   | JSON è¾“å‡ºç¬¦åˆä½ çš„ Schemaï¼Œæ¯æ¬¡éƒ½ä¸€è‡´ |
| âš¡ **æµå¼æ¸²æŸ“** | è¾¹ç”Ÿæˆè¾¹æ¸²æŸ“ï¼Œå“åº”æ›´å¿«               |
| ğŸ” **æ¡ä»¶å¯è§** | åŸºäºæ•°æ®/æƒé™æ§åˆ¶ç»„ä»¶æ˜¾ç¤º            |
| âœ… **å†…ç½®éªŒè¯** | è¡¨å•éªŒè¯å¼€ç®±å³ç”¨                     |

### å¿«é€Ÿä¸Šæ‰‹

**å®‰è£…ï¼š**

```bash
npm install @json-render/core @json-render/react
```

**ä¸‰æ­¥èµ°ï¼š**

**Step 1ï¼šå®šä¹‰ Catalogï¼ˆAI èƒ½ç”¨ä»€ä¹ˆï¼‰**

```tsx
import { createCatalog } from "@json-render/core";
import { z } from "zod";

const catalog = createCatalog({
  components: {
    Card: {
      props: z.object({ title: z.string() }),
      hasChildren: true,
    },
    Metric: {
      props: z.object({
        label: z.string(),
        valuePath: z.string(),
        format: z.enum(["currency", "percent", "number"]),
      }),
    },
    Button: {
      props: z.object({
        label: z.string(),
        action: ActionSchema,
      }),
    },
  },
  actions: {
    export_report: { description: "Export dashboard to PDF" },
    refresh_data: { description: "Refresh all metrics" },
  },
});
```

**Step 2ï¼šæ³¨å†Œç»„ä»¶ï¼ˆæ€ä¹ˆæ¸²æŸ“ï¼‰**

```tsx
const registry = {
  Card: ({ element, children }) => (
    <div className="card">
      <h3>{element.props.title}</h3>
      {children}
    </div>
  ),
  Metric: ({ element }) => {
    const value = useDataValue(element.props.valuePath);
    return <div className="metric">{format(value)}</div>;
  },
  Button: ({ element, onAction }) => (
    <button onClick={() => onAction(element.props.action)}>
      {element.props.label}
    </button>
  ),
};
```

**Step 3ï¼šè®© AI ç”Ÿæˆï¼**

```tsx
import {
  DataProvider,
  ActionProvider,
  Renderer,
  useUIStream,
} from "@json-render/react";

function Dashboard() {
  const { tree, send } = useUIStream({ api: "/api/generate" });

  return (
    <DataProvider initialData={{ revenue: 125000, growth: 0.15 }}>
      <ActionProvider
        actions={{
          export_report: () => downloadPDF(),
          refresh_data: () => refetch(),
        }}
      >
        <input
          placeholder="Create a revenue dashboard..."
          onKeyDown={(e) => e.key === "Enter" && send(e.target.value)}
        />
        <Renderer tree={tree} components={registry} />
      </ActionProvider>
    </DataProvider>
  );
}
```

å°±è¿™æ ·ï¼AI ç”Ÿæˆ JSONï¼Œä½ å®‰å…¨æ¸²æŸ“ã€‚

### é€‚ç”¨åœºæ™¯

- ğŸ›ï¸ è®©ç”¨æˆ·è‡ªåŠ©ç”Ÿæˆ Dashboard
- ğŸ“Š AI é©±åŠ¨çš„æ•°æ®å¯è§†åŒ–
- ğŸ“ åŠ¨æ€è¡¨å•ç”Ÿæˆå™¨
- ğŸ¨ ç»ˆç«¯ç”¨æˆ·è‡ªå®šä¹‰ UI

### æ€§èƒ½ä¸é™åˆ¶

ä½ å¯èƒ½ä¼šé—®ï¼šJSON åºåˆ—åŒ–ä¼šä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Ÿ

| å…³æ³¨ç‚¹         | å®é™…æƒ…å†µ                                  |
| -------------- | ----------------------------------------- |
| **åºåˆ—åŒ–å»¶è¿Ÿ** | JSON ç»“æ„ç®€å•ï¼Œåºåˆ—åŒ–å¼€é”€å¯å¿½ç•¥ä¸è®¡       |
| **æµå¼æ¸²æŸ“**   | æ”¯æŒè¾¹ç”Ÿæˆè¾¹æ¸²æŸ“ï¼Œç”¨æˆ·æ— éœ€ç­‰å¾…å®Œæ•´å“åº”    |
| **å¤æ‚äº¤äº’**   | é€šè¿‡ Actions + onSuccess/onError å›è°ƒæ”¯æŒ |
| **åµŒå¥—ç»„ä»¶**   | é€šè¿‡ `hasChildren: true` æ”¯æŒä»»æ„åµŒå¥—     |

> ğŸ’¡ **Tip**: å¯¹äºå¤æ‚äº¤äº’åœºæ™¯ï¼Œå»ºè®®å°†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨ `ActionProvider` ä¸­å¤„ç†ï¼Œä¿æŒ JSON ç»“æ„çš„ç®€æ´ã€‚

ğŸ”— **ç›¸å…³é“¾æ¥ï¼š**

- GitHub: [vercel-labs/json-render](https://github.com/vercel-labs/json-render)

---

## ğŸ¯ SpecKit è§„èŒƒé©±åŠ¨å¼€å‘: è¦ä¸è¯•è¯• OpenSpec ?

> **åˆ«è®© AI ç›²çŒœäº†ï¼ç”¨è§„èŒƒæ–‡æ¡£çº¦æŸ LLM è¡Œä¸º**

### ç—›ç‚¹

AI ç¼–ç¨‹åŠ©æ‰‹éå¸¸å¼ºå¤§ï¼Œä½†å½“éœ€æ±‚åªå­˜åœ¨äºèŠå¤©è®°å½•é‡Œæ—¶...

- "è¿™ä¸ªæŒ‰é’®ç‚¹å‡»ååº”è¯¥åšä»€ä¹ˆæ¥ç€ï¼Ÿ" â†’ AIï¼šè®©æˆ‘çŒœçŒœ...
- æ¨¡ç³Šçš„ prompt å¯¼è‡´ä¸å¯é¢„æµ‹çš„ç»“æœ
- æ”¹å®Œäº†å‘ç°å’Œé¢„æœŸä¸ä¸€æ ·ï¼Ÿå†æ”¹ä¸€ç‰ˆï¼åˆä¸å¯¹ï¼Ÿå†æ¥ï¼

**Vibe Coding çš„é—®é¢˜ä¸æ˜¯ AI ä¸å¤Ÿèªæ˜ï¼Œè€Œæ˜¯æˆ‘ä»¬æ²¡è¯´æ¸…æ¥šè¦ä»€ä¹ˆã€‚**

### è§£å†³æ–¹æ¡ˆ

[**OpenSpec**](https://github.com/Fission-AI/OpenSpec) æ˜¯ä¸€ä¸ªè§„èŒƒé©±åŠ¨å¼€å‘ (Spec-Driven Development) æ¡†æ¶ã€‚

æ ¸å¿ƒç†å¿µï¼š**å…ˆçº¦å®šè¦åšä»€ä¹ˆï¼Œå†å†™ä»£ç **ã€‚

æ¯ä¸ªåŠŸèƒ½æ”¹åŠ¨éƒ½æœ‰è‡ªå·±çš„æ–‡ä»¶å¤¹ï¼ŒåŒ…å«å®Œæ•´çš„è§„åˆ’æ–‡æ¡£ï¼š

```
openspec/changes/add-dark-mode/
â”œâ”€â”€ proposal.md    # ä¸ºä»€ä¹ˆåšã€æ”¹ä»€ä¹ˆ
â”œâ”€â”€ specs/         # éœ€æ±‚å’Œåœºæ™¯
â”œâ”€â”€ design.md      # æŠ€æœ¯æ–¹æ¡ˆ
â””â”€â”€ tasks.md       # å®ç°æ¸…å•
```

_ğŸ¤« è¿™å°±åƒç»™ AI ä¸€ä»½"æ–½å·¥å›¾çº¸"ï¼Œè€Œä¸æ˜¯åªå‘Šè¯‰å®ƒ"ç›–ä¸ªæˆ¿å­"ï¼_

### å®æˆ˜ç¤ºä¾‹ï¼šæ·»åŠ æ·±è‰²æ¨¡å¼

å‡è®¾ä½ è¦ç»™é¡¹ç›®åŠ ä¸€ä¸ªæ·±è‰²æ¨¡å¼åŠŸèƒ½ï¼Œçœ‹çœ‹ OpenSpec ä¼šç”Ÿæˆä»€ä¹ˆï¼š

**ğŸ“ `openspec/changes/add-dark-mode/proposal.md`**

```markdown
# æ·»åŠ æ·±è‰²æ¨¡å¼

## èƒŒæ™¯

ç”¨æˆ·åé¦ˆå¤œé—´ä½¿ç”¨æ—¶å±å¹•å¤ªäº®ï¼Œå½±å“ä½“éªŒã€‚

## ç›®æ ‡

å®ç°æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œè®°ä½ç”¨æˆ·åå¥½ã€‚

## éç›®æ ‡ï¼ˆä¸åšï¼‰

- è‡ªå®šä¹‰ä¸»é¢˜è‰²ï¼ˆåç»­è¿­ä»£ï¼‰
- è·Ÿéšç³»ç»Ÿä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢ï¼ˆåç»­è¿­ä»£ï¼‰
```

**ğŸ“ `openspec/changes/add-dark-mode/specs/scenarios.md`**

```markdown
## åœºæ™¯ 1ï¼šåˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼

- ç”¨æˆ·ç‚¹å‡»ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
- âœ… é¡µé¢ç«‹å³åˆ‡æ¢ä¸ºæ·±è‰²ä¸»é¢˜
- âœ… åå¥½ä¿å­˜åˆ° localStorage

## åœºæ™¯ 2ï¼šåˆ·æ–°é¡µé¢ä¿æŒä¸»é¢˜

- ç”¨æˆ·åˆ·æ–°é¡µé¢
- âœ… è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡é€‰æ‹©çš„ä¸»é¢˜

## åœºæ™¯ 3ï¼šé¦–æ¬¡è®¿é—®

- æ–°ç”¨æˆ·é¦–æ¬¡è®¿é—®
- âœ… é»˜è®¤ä½¿ç”¨æµ…è‰²ä¸»é¢˜
```

**ğŸ“ `openspec/changes/add-dark-mode/design.md`**

```markdown
## æŠ€æœ¯æ–¹æ¡ˆ

### çŠ¶æ€ç®¡ç†

- ThemeContext æä¾›å…¨å±€ä¸»é¢˜çŠ¶æ€
- useTheme hook ä¾›ç»„ä»¶ä½¿ç”¨

### æ ·å¼å®ç°

- CSS å˜é‡å®šä¹‰é¢œè‰² token
- [data-theme="dark"] é€‰æ‹©å™¨è¦†ç›–

### æŒä¹…åŒ–

- localStorage å­˜å‚¨ç”¨æˆ·åå¥½
- é¡µé¢åŠ è½½æ—¶è¯»å–å¹¶åº”ç”¨
```

**ğŸ“ `openspec/changes/add-dark-mode/tasks.md`**

```markdown
- [ ] 1. åŸºç¡€è®¾æ–½
  - [ ] 1.1 Add theme context provider
  - [ ] 1.2 Create toggle component
- [ ] 2. æ ·å¼
  - [ ] 2.1 Add CSS variables
  - [ ] 2.2 Wire up localStorage
- [ ] 3. æµ‹è¯•
  - [ ] 3.1 ä¸»é¢˜åˆ‡æ¢å•å…ƒæµ‹è¯•
  - [ ] 3.2 æŒä¹…åŒ–åŠŸèƒ½æµ‹è¯•
```

æœ‰äº†è¿™å¥—æ–‡æ¡£ï¼ŒAI å°±ä¸ä¼š"ç›²çŒœ"ä½ è¦ä»€ä¹ˆäº†ï¼

### æ ¸å¿ƒç‰¹æ€§

| åŠŸèƒ½          | è¯´æ˜                             |
| ------------- | -------------------------------- |
| ğŸ“ **ç»“æ„åŒ–** | æ¯ä¸ªæ”¹åŠ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè§„èŒƒæ¸…æ™°     |
| ğŸ¤ **å¯¹é½**   | äººå’Œ AI å…ˆåœ¨è§„èŒƒä¸Šè¾¾æˆä¸€è‡´       |
| ğŸ”„ **çµæ´»**   | éšæ—¶æ›´æ–°ä»»ä½•æ–‡æ¡£ï¼Œæ²¡æœ‰æ­»æ¿æµç¨‹   |
| ğŸ”§ **å…¼å®¹**   | æ”¯æŒ 20+ AI å·¥å…·ï¼Œç”¨æ–œæ å‘½ä»¤è°ƒç”¨ |

### å·¥ä½œæµæ¼”ç¤º

```
You: /opsx:new add-dark-mode
AI:  Created openspec/changes/add-dark-mode/
     Ready to create: proposal

You: /opsx:ff  # "fast-forward" - ä¸€é”®ç”Ÿæˆå…¨å¥—è§„åˆ’
AI:  âœ“ proposal.md â€” ä¸ºä»€ä¹ˆåšã€æ”¹ä»€ä¹ˆ
     âœ“ specs/      â€” éœ€æ±‚å’Œåœºæ™¯
     âœ“ design.md   â€” æŠ€æœ¯æ–¹æ¡ˆ
     âœ“ tasks.md    â€” å®ç°æ¸…å•
     Ready for implementation!

You: /opsx:apply
AI:  Implementing tasks...
     âœ“ 1.1 Add theme context provider
     âœ“ 1.2 Create toggle component
     âœ“ 2.1 Add CSS variables
     âœ“ 2.2 Wire up localStorage
     All tasks complete!

You: /opsx:archive
AI:  Archived to openspec/changes/archive/2025-01-23-add-dark-mode/
     Ready for the next feature.
```

### å¿«é€Ÿä¸Šæ‰‹

**å®‰è£…ï¼š**

```bash
npm install -g @fission-ai/openspec@latest
```

**åˆå§‹åŒ–é¡¹ç›®ï¼š**

```bash
cd your-project
openspec init
```

**å¼€å§‹ä½¿ç”¨ï¼š**

å‘Šè¯‰ä½ çš„ AI åŠ©æ‰‹ï¼š`/opsx:new <what-you-want-to-build>`

### ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ            | ç‰¹ç‚¹                       |
| --------------- | -------------------------- |
| **OpenSpec**    | è½»é‡ã€çµæ´»ã€æ”¯æŒ 20+ å·¥å…·  |
| GitHub Spec Kit | å®Œæ•´ä½†é‡ï¼Œæœ‰ä¸¥æ ¼çš„é˜¶æ®µé—¨ç¦ |
| AWS Kiro        | å¼ºå¤§ä½†é”å®š IDE å’Œæ¨¡å‹      |
| ä»€ä¹ˆéƒ½ä¸ç”¨      | æ¨¡ç³Š prompt â†’ ä¸å¯é¢„æµ‹ç»“æœ |

### å›¢é˜Ÿåä½œï¼šCI/CD é›†æˆ

å·¥ç¨‹ä¸»ç®¡å¯èƒ½ä¼šé—®ï¼šè¿™ä¸œè¥¿æ€ä¹ˆå’Œç°æœ‰æµç¨‹é›†æˆï¼Ÿ

**Git å·¥ä½œæµæ•´åˆï¼š**

```
å¼€å‘è€…æäº¤ â†’ PR åŒ…å« openspec/changes/xxx/ â†’ Review è§„èŒƒæ–‡æ¡£ â†’ åˆå¹¶åè‡ªåŠ¨å½’æ¡£
```

**CI æ£€æŸ¥å»ºè®®ï¼š**

- âœ… æ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”çš„ spec æ–‡ä»¶å¤¹
- âœ… éªŒè¯ tasks.md æ˜¯å¦å…¨éƒ¨å®Œæˆ
- âœ… PR æè¿°è‡ªåŠ¨å¼•ç”¨ proposal.md å†…å®¹

**å›¢é˜Ÿè§„èŒƒç¤ºä¾‹ï¼š**

```yaml
# .github/workflows/spec-check.yml
name: Spec Check
on: pull_request
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - name: Verify spec exists
        run: |
          if [ ! -d "openspec/changes" ]; then
            echo "âš ï¸ Missing OpenSpec documentation"
          fi
```

> ğŸ’¡ **Tip**: å°†è§„èŒƒæ–‡æ¡£ä½œä¸º PR çš„ä¸€éƒ¨åˆ†ï¼Œè®© Code Review ä¸åªæ˜¯çœ‹ä»£ç ï¼Œè¿˜è¦çœ‹è®¾è®¡æ„å›¾ã€‚

ğŸ”— **ç›¸å…³é“¾æ¥ï¼š**

- GitHub: [Fission-AI/OpenSpec](https://github.com/Fission-AI/OpenSpec)
- æ–‡æ¡£: [Getting Started](https://github.com/Fission-AI/OpenSpec/blob/main/docs/getting-started.md)

---

## ğŸ“® ä¸‹æœŸé¢„å‘Š

ä¸‹å‘¨æˆ‘ä»¬å°†å…³æ³¨ï¼š

- æ›´å¤š AI ç¼–ç¨‹æœ€ä½³å®è·µ
- ä½ çš„æŠ•ç¨¿ï¼

---

_æœ‰æ¨èçš„é¡¹ç›®æˆ–è¯é¢˜ï¼Ÿæ¬¢è¿åé¦ˆç»™æˆ‘ä»¬ï¼_
